<!doctype html>
<html>
<head>
    <meta charset="UTF-8">
    <title>son2</title>
</head>
<body>
    i am son2 ,my location is <script> document.write(document.location.href)</script>
    <form id="form">
        <textarea id="messageInput"></textarea>
        <button type="sublimt">send to father</button>
    </form>
    <div id="printer"></div>
    <script src="shim.js"></script>
    <script src="messager.js"></script>
    <script>
        var messagerWithFather = new Messager(top,'2');
        var oForm = document.getElementById('form'),
            oMessageInput = document.getElementById('messageInput'),
            oPrinter = document.getElementById('printer');
        messagerWithFather.receive = function (data) {
            oPrinter.innerHTML += data + '<br>'
        }

        oForm.onsubmit = function (e) {
            var msg = oMessageInput.value.trim();
            messagerWithFather.post(msg);
            return false;
        }
    </script>
</body>
</html>